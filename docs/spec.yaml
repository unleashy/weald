---
◊meta:
  title: Weald 🌳
  version: 0.1.0
  non-numbered-headings:
    - Contents
---
Contents:
  - ◊toc:
---
Introduction:
  - >
    Weald is a new programming language taking inspiration from C#, Rust, and Ruby.

    This document describes the language—mostly informally.
---
Lexical syntax:
  - >
    This chapter covers the lexical structure of the language. The ◊[source text] of a Weald program
    is transformed into a linear sequence of disjoint input elements: ◊i[tokens], ◊i[white space],
    ◊i[newlines], and ◊i[comments]. These input elements are produced by analysing the source text’s
    code points, from left-to-right, then taking the longest sequence of code points that match a
    particular input element.

  - Source text:
      - ◊syn:
          ◊caption: source text
          Char: ◊p any Unicode code point but not ◊[ForbiddenChar]
          ForbiddenChar:
            - ◊p any Control code point but not ◊[Whitespace] or ◊[Newline]
            - U+2028
            - U+2029
          End: ◊p the physical end of input
      - >
        The source text of a Weald program is a sequence of Unicode code points, encoded as UTF-8.
        No other encoding is supported.

        The source text may start with a ◊abbr[BOM][byte order mark] ◊U[FEFF] which is ignored for
        the purposes of lexical analysis.

        There are certain characters that are ◊syn[forbidden][ForbiddenChar] in source text; if
        source text contains these characters, even within strings or comments, it is an error. If
        the literal defines another way to represent a character, such as through an escape, it is
        allowed, since the literal character is not being represented.

  - White space:
      - ◊syn:
          ◊caption: white space
          Whitespace:
            - U+0020
            - U+0009
      - >
        White space is used to separate input elements. It is otherwise insignificant and should be
        ignored. The only white space characters allowed are space and tab.

  - Newlines:
      - ◊syn:
          ◊caption: newlines
          Newline:
            - U+000A
            - U+000D U+000A
          Newlines: Newline+
      - >
        Newlines are used to separate statements from one another. The only newline characters
        allowed are line feed and carriage return immediately followed by a line feed, i.e. either
        Unix-style LF or Windows-style CRLF.

  - Comments:
      - ◊syn:
          ◊caption: comments
          Comment:
            - "`//` LineCommentChar* CommentEnd"
            - "`/*` BlockCommentChar* `*/`"
          LineCommentChar: Char but not Newline
          BlockCommentChar: Char but not `*/`
          CommentEnd:
            - Newline
            - End
      - >
        Comments are treated like white space and are ignored. The newline at the end of line
        comments is emitted as a normal newline token; newlines within block comments are also
        emitted.
